"use strict";(globalThis.webpackChunkmotionpage=globalThis.webpackChunkmotionpage||[]).push([[836],{3075:(dn,It,ie)=>{var we;ie.d(It,{NI:()=>tn,PC:()=>pe,YF:()=>en,bQ:()=>Qt,c0:()=>rn,eS:()=>zt,ll:()=>Xt,ox:()=>un,qq:()=>Tt,qs:()=>on,wD:()=>jt,y0:()=>qt});var h=ie(7294),b=ie(8793),Ye=ie(1347),Q=ie(8365),wt=ie(1371),Fe=ie(8388),Mt=ie(3935);function Tt(t){return h.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})},t)}const Ct=(we||(we=ie.t(h,2)))["useInsertionEffect".toString()]||(t=>t());function re(t){const e=h.useRef(()=>{});return Ct(()=>{e.current=t}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}const Me="ArrowUp",ye="ArrowDown",fe="ArrowLeft",me="ArrowRight";function Te(t,e,n){return Math.floor(t/e)!==n}function be(t,e){return e<0||e>=t.current.length}function _e(t,e){return te(t,{disabledIndices:e})}function Xe(t,e){return te(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function te(t,e){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:s,amount:o=1}=e===void 0?{}:e;const u=t.current;let c=n;do{var f,a;c=c+(r?-o:o)}while(c>=0&&c<=u.length-1&&(s?s.includes(c):u[c]==null||(f=u[c])!=null&&f.hasAttribute("disabled")||((a=u[c])==null?void 0:a.getAttribute("aria-disabled"))==="true"));return c}function Pt(t,e){let{event:n,orientation:r,loop:s,cols:o,disabledIndices:u,minIndex:c,maxIndex:f,prevIndex:a,stopEvent:m=!1}=e,l=a;if(n.key===Me){if(m&&(0,b.p7)(n),a===-1)l=f;else if(l=te(t,{startingIndex:l,amount:o,decrement:!0,disabledIndices:u}),s&&(a-o<c||l<0)){const v=a%o,i=f%o,d=f-(i-v);i===v?l=f:l=i>v?d:d-o}be(t,l)&&(l=a)}if(n.key===ye&&(m&&(0,b.p7)(n),a===-1?l=c:(l=te(t,{startingIndex:a,amount:o,disabledIndices:u}),s&&a+o>f&&(l=te(t,{startingIndex:a%o-o,amount:o,disabledIndices:u}))),be(t,l)&&(l=a)),r==="both"){const v=(0,Ye.GW)(a/o);n.key===me&&(m&&(0,b.p7)(n),a%o!==o-1?(l=te(t,{startingIndex:a,disabledIndices:u}),s&&Te(l,o,v)&&(l=te(t,{startingIndex:a-a%o-1,disabledIndices:u}))):s&&(l=te(t,{startingIndex:a-a%o-1,disabledIndices:u})),Te(l,o,v)&&(l=a)),n.key===fe&&(m&&(0,b.p7)(n),a%o!==0?(l=te(t,{startingIndex:a,disabledIndices:u,decrement:!0}),s&&Te(l,o,v)&&(l=te(t,{startingIndex:a+(o-a%o),decrement:!0,disabledIndices:u}))):s&&(l=te(t,{startingIndex:a+(o-a%o),decrement:!0,disabledIndices:u})),Te(l,o,v)&&(l=a));const i=(0,Ye.GW)(f/o)===v;be(t,l)&&(s&&i?l=n.key===fe?f:te(t,{startingIndex:a-a%o-1,disabledIndices:u}):l=a)}return l}let Ge=0;function ce(t,e){e===void 0&&(e={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:s=!1}=e;r&&cancelAnimationFrame(Ge);const o=()=>t?.focus({preventScroll:n});s?o():Ge=requestAnimationFrame(o)}var Y=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Ot(t,e){const n=t.compareDocumentPosition(e);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}function kt(t,e){if(t.size!==e.size)return!1;for(const[n,r]of t.entries())if(r!==e.get(n))return!1;return!0}const je=h.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function pn(t){let{children:e,elementsRef:n,labelsRef:r}=t;const[s,o]=React.useState(()=>new Map),u=React.useCallback(f=>{o(a=>new Map(a).set(f,null))},[]),c=React.useCallback(f=>{o(a=>{const m=new Map(a);return m.delete(f),m})},[]);return Y(()=>{const f=new Map(s);Array.from(f.keys()).sort(Ot).forEach((m,l)=>{f.set(m,l)}),kt(s,f)||o(f)},[s]),React.createElement(je.Provider,{value:React.useMemo(()=>({register:u,unregister:c,map:s,elementsRef:n,labelsRef:r}),[u,c,s,n,r])},e)}function vn(t){let{label:e}=t===void 0?{}:t;const[n,r]=React.useState(null),s=React.useRef(null),{register:o,unregister:u,map:c,elementsRef:f,labelsRef:a}=React.useContext(je),m=React.useCallback(l=>{if(s.current=l,n!==null&&(f.current[n]=l,a)){var v;const i=e!==void 0;a.current[n]=i?e:(v=l?.textContent)!=null?v:null}},[n,f,a,e]);return Y(()=>{const l=s.current;if(l)return o(l),()=>{u(l)}},[o,u]),Y(()=>{const l=s.current?c.get(s.current):null;l!=null&&r(l)},[c]),React.useMemo(()=>({ref:m,index:n??-1}),[n,m])}function gn(t,e){return typeof t=="function"?t(e):t?React.cloneElement(t,e):React.createElement("div",e)}const hn=h.createContext({activeIndex:0,onNavigate:()=>{}}),St=[fe,me],Dt=[Me,ye],Rn=[...St,...Dt],yn=null,bn=null;function xe(){return xe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xe.apply(this,arguments)}let Ke=!1,At=0;const qe=()=>"floating-ui-"+At++;function Lt(){const[t,e]=h.useState(()=>Ke?qe():void 0);return Y(()=>{t==null&&e(qe())},[]),h.useEffect(()=>{Ke||(Ke=!0)},[]),t}const pe=(we||(we=ie.t(h,2)))["useId".toString()]||Lt,En=null;function ze(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(s=>s(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(s=>s!==n))||[])}}}const $e=h.createContext(null),Ze=h.createContext(null),Ee=()=>{var t;return((t=h.useContext($e))==null?void 0:t.id)||null},ve=()=>h.useContext(Ze);function In(t){const e=pe(),n=ve(),r=Ee(),s=t||r;return Y(()=>{const o={id:e,parentId:s};return n?.addNode(o),()=>{n?.removeNode(o)}},[n,e,s]),e}function wn(t){let{children:e,id:n}=t;const r=Ee();return React.createElement($e.Provider,{value:React.useMemo(()=>({id:n,parentId:r}),[n,r])},e)}function Mn(t){let{children:e}=t;const n=React.useRef([]),r=React.useCallback(u=>{n.current=[...n.current,u]},[]),s=React.useCallback(u=>{n.current=n.current.filter(c=>c!==u)},[]),o=React.useState(()=>ze())[0];return React.createElement(Ze.Provider,{value:React.useMemo(()=>({nodesRef:n,addNode:r,removeNode:s,events:o}),[n,r,s,o])},e)}function ge(t){return"data-floating-ui-"+t}function ne(t){const e=(0,h.useRef)(t);return Y(()=>{e.current=t}),e}const Je=null;function Ce(t,e,n){return n&&!isMouseLikePointerType(n)?0:typeof t=="number"?t:t?.[e]}function Tn(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:s,events:o,elements:{domReference:u,floating:c},refs:f}=t,{enabled:a=!0,delay:m=0,handleClose:l=null,mouseOnly:v=!1,restMs:i=0,move:d=!0}=e,p=ve(),I=Ee(),x=ne(l),R=ne(m),_=React.useRef(),M=React.useRef(),w=React.useRef(),S=React.useRef(),O=React.useRef(!0),U=React.useRef(!1),D=React.useRef(()=>{}),L=React.useCallback(()=>{var g;const k=(g=s.current.openEvent)==null?void 0:g.type;return k?.includes("mouse")&&k!=="mousedown"},[s]);React.useEffect(()=>{if(!a)return;function g(){clearTimeout(M.current),clearTimeout(S.current),O.current=!0}return o.on("dismiss",g),()=>{o.off("dismiss",g)}},[a,o]),React.useEffect(()=>{if(!a||!x.current||!n)return;function g(j){L()&&r(!1,j)}const k=getDocument(c).documentElement;return k.addEventListener("mouseleave",g),()=>{k.removeEventListener("mouseleave",g)}},[c,n,r,a,x,s,L]);const E=React.useCallback(function(g,k){k===void 0&&(k=!0);const j=Ce(R.current,"close",_.current);j&&!w.current?(clearTimeout(M.current),M.current=setTimeout(()=>r(!1,g),j)):k&&(clearTimeout(M.current),r(!1,g))},[R,r]),X=React.useCallback(()=>{D.current(),w.current=void 0},[]),y=React.useCallback(()=>{if(U.current){const g=getDocument(f.floating.current).body;g.style.pointerEvents="",g.removeAttribute(Je),U.current=!1}},[f]);return React.useEffect(()=>{if(!a)return;function g(){return s.current.openEvent?["click","mousedown"].includes(s.current.openEvent.type):!1}function k(P){if(clearTimeout(M.current),O.current=!1,v&&!isMouseLikePointerType(_.current)||i>0&&Ce(R.current,"open")===0)return;const A=Ce(R.current,"open",_.current);A?M.current=setTimeout(()=>{r(!0,P)},A):r(!0,P)}function j(P){if(g())return;D.current();const A=getDocument(c);if(clearTimeout(S.current),x.current){n||clearTimeout(M.current),w.current=x.current({...t,tree:p,x:P.clientX,y:P.clientY,onClose(){y(),X(),E(P)}});const ee=w.current;A.addEventListener("mousemove",ee),D.current=()=>{A.removeEventListener("mousemove",ee)};return}(_.current==="touch"?!contains(c,P.relatedTarget):!0)&&E(P)}function C(P){g()||x.current==null||x.current({...t,tree:p,x:P.clientX,y:P.clientY,onClose(){y(),X(),E(P)}})(P)}if(isElement(u)){const P=u;return n&&P.addEventListener("mouseleave",C),c?.addEventListener("mouseleave",C),d&&P.addEventListener("mousemove",k,{once:!0}),P.addEventListener("mouseenter",k),P.addEventListener("mouseleave",j),()=>{n&&P.removeEventListener("mouseleave",C),c?.removeEventListener("mouseleave",C),d&&P.removeEventListener("mousemove",k),P.removeEventListener("mouseenter",k),P.removeEventListener("mouseleave",j)}}},[u,c,a,t,v,i,d,E,X,y,r,n,p,R,x,s]),Y(()=>{var g;if(a&&n&&(g=x.current)!=null&&g.__options.blockPointerEvents&&L()){const C=getDocument(c).body;if(C.setAttribute(Je,""),C.style.pointerEvents="none",U.current=!0,isElement(u)&&c){var k,j;const P=u,A=p==null||(k=p.nodesRef.current.find(T=>T.id===I))==null||(j=k.context)==null?void 0:j.elements.floating;return A&&(A.style.pointerEvents=""),P.style.pointerEvents="auto",c.style.pointerEvents="auto",()=>{P.style.pointerEvents="",c.style.pointerEvents=""}}}},[a,n,I,c,u,p,x,s,L]),Y(()=>{n||(_.current=void 0,X(),y())},[n,X,y]),React.useEffect(()=>()=>{X(),clearTimeout(M.current),clearTimeout(S.current),y()},[a,u,X,y]),React.useMemo(()=>{if(!a)return{};function g(k){_.current=k.pointerType}return{reference:{onPointerDown:g,onPointerEnter:g,onMouseMove(k){n||i===0||(clearTimeout(S.current),S.current=setTimeout(()=>{O.current||r(!0,k.nativeEvent)},i))}},floating:{onMouseEnter(){clearTimeout(M.current)},onMouseLeave(k){o.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),E(k.nativeEvent,!1)}}}},[o,a,i,n,r,E])}const Qe=h.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),Ft=()=>React.useContext(Qe),Cn=t=>{let{children:e,delay:n,timeoutMs:r=0}=t;const[s,o]=React.useReducer((f,a)=>({...f,...a}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),u=React.useRef(null),c=React.useCallback(f=>{o({currentId:f})},[]);return Y(()=>{s.currentId?u.current===null?u.current=s.currentId:o({isInstantPhase:!0}):(o({isInstantPhase:!1}),u.current=null)},[s.currentId]),React.createElement(Qe.Provider,{value:React.useMemo(()=>({...s,setState:o,setCurrentId:c}),[s,o,c])},e)},Pn=(t,e)=>{let{open:n,onOpenChange:r}=t,{id:s}=e;const{currentId:o,setCurrentId:u,initialDelay:c,setState:f,timeoutMs:a}=Ft();Y(()=>{o&&(f({delay:{open:1,close:Ce(c,"close")}}),o!==s&&r(!1))},[s,r,f,o,c]),Y(()=>{function m(){r(!1),f({delay:c,currentId:null})}if(!n&&o===s)if(a){const l=window.setTimeout(m,a);return()=>{clearTimeout(l)}}else m()},[n,f,o,s,r,c,a]),Y(()=>{n&&u(s)},[n,u,s])};function _t(t,e){var n;let r=[],s=(n=t.find(o=>o.id===e))==null?void 0:n.parentId;for(;s;){const o=t.find(u=>u.id===s);s=o?.parentId,o&&(r=r.concat(o))}return r}function de(t,e){let n=t.filter(s=>{var o;return s.parentId===e&&((o=s.context)==null?void 0:o.open)}),r=n;for(;r.length;)r=t.filter(s=>{var o;return(o=r)==null?void 0:o.some(u=>{var c;return s.parentId===u.id&&((c=s.context)==null?void 0:c.open)})}),n=n.concat(r);return n}function Kt(t,e){let n,r=-1;function s(o,u){u>r&&(n=o,r=u),de(t,o).forEach(f=>{s(f.id,u+1)})}return s(e,0),t.find(o=>o.id===n)}let he=new WeakMap,Pe=new WeakSet,Oe={},Ne=0;const Nt=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,et=t=>t&&(t.host||et(t.parentNode)),Wt=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=et(n);return t.contains(r)?r:null}).filter(n=>n!=null);function Ht(t,e,n,r){const s="data-floating-ui-inert",o=r?"inert":n?"aria-hidden":null,u=Wt(e,t),c=new Set,f=new Set(u),a=[];Oe[s]||(Oe[s]=new WeakMap);const m=Oe[s];u.forEach(l),v(e),c.clear();function l(i){!i||c.has(i)||(c.add(i),i.parentNode&&l(i.parentNode))}function v(i){!i||f.has(i)||Array.prototype.forEach.call(i.children,d=>{if(c.has(d))v(d);else{const p=o?d.getAttribute(o):null,I=p!==null&&p!=="false",x=(he.get(d)||0)+1,R=(m.get(d)||0)+1;he.set(d,x),m.set(d,R),a.push(d),x===1&&I&&Pe.add(d),R===1&&d.setAttribute(s,""),!I&&o&&d.setAttribute(o,"true")}})}return Ne++,()=>{a.forEach(i=>{const d=(he.get(i)||0)-1,p=(m.get(i)||0)-1;he.set(i,d),m.set(i,p),d||(!Pe.has(i)&&o&&i.removeAttribute(o),Pe.delete(i)),p||i.removeAttribute(s)}),Ne--,Ne||(he=new WeakMap,he=new WeakMap,Pe=new WeakSet,Oe={})}}function tt(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=(0,b.Me)(t[0]).body;return Ht(t.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,n)}const We=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function nt(t,e){const n=(0,Fe.ht)(t,We());e==="prev"&&n.reverse();const r=n.indexOf((0,b.AW)((0,b.Me)(t)));return n.slice(r+1)[0]}function rt(){return nt(document.body,"next")}function ot(){return nt(document.body,"prev")}function Ie(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!(0,b.r3)(n,r)}function Bt(t){(0,Fe.ht)(t,We()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Ut(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const He={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Vt;function st(t){t.key==="Tab"&&(t.target,clearTimeout(Vt))}const ke=h.forwardRef(function(e,n){const[r,s]=h.useState();Y(()=>((0,b.G6)()&&s("button"),document.addEventListener("keydown",st),()=>{document.removeEventListener("keydown",st)}),[]);const o={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[ge("focus-guard")]:"",style:He};return h.createElement("span",xe({},e,o))}),it=h.createContext(null);function Yt(t){let{id:e,root:n}=t===void 0?{}:t;const[r,s]=h.useState(null),o=pe(),u=ct(),c=h.useMemo(()=>({id:e,root:n,portalContext:u,uniqueId:o}),[e,n,u,o]),f=h.useRef();return Y(()=>()=>{r?.remove()},[r,c]),Y(()=>{if(f.current===c)return;f.current=c;const{id:a,root:m,portalContext:l,uniqueId:v}=c,i=a?document.getElementById(a):null,d=ge("portal");if(i){const p=document.createElement("div");p.id=v,p.setAttribute(d,""),i.appendChild(p),s(p)}else{let p=m||l?.portalNode;p&&!(0,Q.kK)(p)&&(p=p.current),p=p||document.body;let I=null;a&&(I=document.createElement("div"),I.id=a,p.appendChild(I));const x=document.createElement("div");x.id=v,x.setAttribute(d,""),p=I||p,p.appendChild(x),s(x)}},[c]),r}function Xt(t){let{children:e,id:n,root:r=null,preserveTabOrder:s=!0}=t;const o=Yt({id:n,root:r}),[u,c]=h.useState(null),f=h.useRef(null),a=h.useRef(null),m=h.useRef(null),l=h.useRef(null),v=!!u&&!u.modal&&u.open&&s&&!!(r||o);return h.useEffect(()=>{if(!o||!s||u!=null&&u.modal)return;function i(d){o&&Ie(d)&&(d.type==="focusin"?Ut:Bt)(o)}return o.addEventListener("focusin",i,!0),o.addEventListener("focusout",i,!0),()=>{o.removeEventListener("focusin",i,!0),o.removeEventListener("focusout",i,!0)}},[o,s,u?.modal]),h.createElement(it.Provider,{value:h.useMemo(()=>({preserveTabOrder:s,beforeOutsideRef:f,afterOutsideRef:a,beforeInsideRef:m,afterInsideRef:l,portalNode:o,setFocusManagerState:c}),[s,o])},v&&o&&h.createElement(ke,{"data-type":"outside",ref:f,onFocus:i=>{if(Ie(i,o)){var d;(d=m.current)==null||d.focus()}else{const p=ot()||u?.refs.domReference.current;p?.focus()}}}),v&&o&&h.createElement("span",{"aria-owns":o.id,style:He}),o&&(0,Mt.createPortal)(e,o),v&&o&&h.createElement(ke,{"data-type":"outside",ref:a,onFocus:i=>{if(Ie(i,o)){var d;(d=l.current)==null||d.focus()}else{const p=rt()||u?.refs.domReference.current;p?.focus(),u?.closeOnFocusOut&&u?.onOpenChange(!1,i.nativeEvent)}}}))}const ct=()=>h.useContext(it),Gt=h.forwardRef(function(e,n){return h.createElement("button",xe({},e,{type:"button",ref:n,tabIndex:-1,style:He}))});function jt(t){const{context:e,children:n,disabled:r=!1,order:s=["content"],guards:o=!0,initialFocus:u=0,returnFocus:c=!0,modal:f=!0,visuallyHiddenDismiss:a=!1,closeOnFocusOut:m=!0}=t,{open:l,refs:v,nodeId:i,onOpenChange:d,events:p,dataRef:I,elements:{domReference:x,floating:R}}=e,_=typeof u=="number"&&u<0,M=x?.getAttribute("role")==="combobox"&&(0,b.j7)(x)&&_,w=M?!1:f,S=Nt()?o:!0,O=ne(s),U=ne(u),D=ne(c),L=ve(),E=ct(),X=h.useRef(null),y=h.useRef(null),g=h.useRef(!1),k=h.useRef(null),j=h.useRef(!1),C=E!=null,P=h.useCallback(function(H){return H===void 0&&(H=R),H?(0,Fe.ht)(H,We()):[]},[R]),A=h.useCallback(H=>{const K=P(H);return O.current.map(N=>x&&N==="reference"?x:R&&N==="floating"?R:K).filter(Boolean).flat()},[x,R,O,P]);h.useEffect(()=>{if(r||!w)return;function H(N){if(N.key==="Tab"){(0,b.r3)(R,(0,b.AW)((0,b.Me)(R)))&&P().length===0&&!M&&(0,b.p7)(N);const B=A(),q=(0,b.U9)(N);O.current[0]==="reference"&&q===x&&((0,b.p7)(N),N.shiftKey?ce(B[B.length-1]):ce(B[1])),O.current[1]==="floating"&&q===R&&N.shiftKey&&((0,b.p7)(N),ce(B[0]))}}const K=(0,b.Me)(R);return K.addEventListener("keydown",H),()=>{K.removeEventListener("keydown",H)}},[r,x,R,w,O,v,M,P,A]),h.useEffect(()=>{if(r||!m)return;function H(){j.current=!0,setTimeout(()=>{j.current=!1})}function K(N){const B=N.relatedTarget;queueMicrotask(()=>{const q=!((0,b.r3)(x,B)||(0,b.r3)(R,B)||(0,b.r3)(B,R)||(0,b.r3)(E?.portalNode,B)||B!=null&&B.hasAttribute(ge("focus-guard"))||L&&(de(L.nodesRef.current,i).find(V=>{var W,z;return(0,b.r3)((W=V.context)==null?void 0:W.elements.floating,B)||(0,b.r3)((z=V.context)==null?void 0:z.elements.domReference,B)})||_t(L.nodesRef.current,i).find(V=>{var W,z;return((W=V.context)==null?void 0:W.elements.floating)===B||((z=V.context)==null?void 0:z.elements.domReference)===B})));B&&q&&!j.current&&B!==k.current&&(g.current=!0,d(!1,N))})}if(R&&(0,Q.Re)(x))return x.addEventListener("focusout",K),x.addEventListener("pointerdown",H),!w&&R.addEventListener("focusout",K),()=>{x.removeEventListener("focusout",K),x.removeEventListener("pointerdown",H),!w&&R.removeEventListener("focusout",K)}},[r,x,R,w,i,L,E,d,m]),h.useEffect(()=>{var H;if(r)return;const K=Array.from((E==null||(H=E.portalNode)==null?void 0:H.querySelectorAll("["+ge("portal")+"]"))||[]);if(R){const N=[R,...K,X.current,y.current,O.current.includes("reference")||M?x:null].filter(q=>q!=null),B=f||M?tt(N,S,!S):tt(N);return()=>{B()}}},[r,x,R,f,O,E,M,S]),Y(()=>{if(r||!R)return;const H=(0,b.Me)(R),K=(0,b.AW)(H);queueMicrotask(()=>{const N=A(R),B=U.current,q=(typeof B=="number"?N[B]:B.current)||R,V=(0,b.r3)(R,K);!_&&!V&&l&&ce(q,{preventScroll:q===R})})},[r,l,R,_,A,U]),Y(()=>{if(r||!R)return;let H=!1;const K=(0,b.Me)(R),N=(0,b.AW)(K),B=I.current;k.current=N;function q(V){if(V.type==="escapeKey"&&v.domReference.current&&(k.current=v.domReference.current),["referencePress","escapeKey"].includes(V.type))return;const W=V.data.returnFocus;typeof W=="object"?(g.current=!1,H=W.preventScroll):g.current=!W}return p.on("dismiss",q),()=>{p.off("dismiss",q);const V=(0,b.AW)(K);((0,b.r3)(R,V)||L&&de(L.nodesRef.current,i).some(z=>{var G;return(0,b.r3)((G=z.context)==null?void 0:G.elements.floating,V)})||B.openEvent&&["click","mousedown"].includes(B.openEvent.type))&&v.domReference.current&&(k.current=v.domReference.current),D.current&&(0,Q.Re)(k.current)&&!g.current&&ce(k.current,{cancelPrevious:!1,preventScroll:H})}},[r,R,D,I,v,p,L,i]),Y(()=>{if(!(r||!E))return E.setFocusManagerState({modal:w,closeOnFocusOut:m,open:l,onOpenChange:d,refs:v}),()=>{E.setFocusManagerState(null)}},[r,E,w,l,d,v,m]),Y(()=>{if(r||!R||typeof MutationObserver!="function"||_)return;const H=()=>{const N=R.getAttribute("tabindex");O.current.includes("floating")||(0,b.AW)((0,b.Me)(R))!==v.domReference.current&&P().length===0?N!=="0"&&R.setAttribute("tabindex","0"):N!=="-1"&&R.setAttribute("tabindex","-1")};H();const K=new MutationObserver(H);return K.observe(R,{childList:!0,subtree:!0,attributes:!0}),()=>{K.disconnect()}},[r,R,v,O,P,_]);function T(H){return r||!a||!w?null:h.createElement(Gt,{ref:H==="start"?X:y,onClick:K=>d(!1,K.nativeEvent)},typeof a=="string"?a:"Dismiss")}const ee=!r&&S&&(C||w);return h.createElement(h.Fragment,null,ee&&h.createElement(ke,{"data-type":"inside",ref:E?.beforeInsideRef,onFocus:H=>{if(w){const N=A();ce(s[0]==="reference"?N[0]:N[N.length-1])}else if(E!=null&&E.preserveTabOrder&&E.portalNode)if(g.current=!1,Ie(H,E.portalNode)){const N=rt()||x;N?.focus()}else{var K;(K=E.beforeOutsideRef.current)==null||K.focus()}}}),!M&&T("start"),n,T("end"),ee&&h.createElement(ke,{"data-type":"inside",ref:E?.afterInsideRef,onFocus:H=>{if(w)ce(A()[0]);else if(E!=null&&E.preserveTabOrder&&E.portalNode)if(m&&(g.current=!0),Ie(H,E.portalNode)){const N=ot()||x;N?.focus()}else{var K;(K=E.afterOutsideRef.current)==null||K.focus()}}}))}const Be=new Set,qt=h.forwardRef(function(e,n){let{lockScroll:r=!1,...s}=e;const o=pe();return Y(()=>{if(!r)return;Be.add(o);const u=/iP(hone|ad|od)|iOS/.test((0,b.Xf)()),c=document.body.style,a=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",m=window.innerWidth-document.documentElement.clientWidth,l=c.left?parseFloat(c.left):window.pageXOffset,v=c.top?parseFloat(c.top):window.pageYOffset;if(c.overflow="hidden",m&&(c[a]=m+"px"),u){var i,d;const p=((i=window.visualViewport)==null?void 0:i.offsetLeft)||0,I=((d=window.visualViewport)==null?void 0:d.offsetTop)||0;Object.assign(c,{position:"fixed",top:-(v-Math.floor(I))+"px",left:-(l-Math.floor(p))+"px",right:"0"})}return()=>{Be.delete(o),Be.size===0&&(Object.assign(c,{overflow:"",[a]:""}),u&&(Object.assign(c,{position:"",top:"",left:"",right:""}),window.scrollTo(l,v)))}},[o,r]),h.createElement("div",xe({ref:n},s,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...s.style}}))});function ut(t){return(0,Q.Re)(t.target)&&t.target.tagName==="BUTTON"}function lt(t){return(0,b.j7)(t)}function zt(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:s,elements:{domReference:o}}=t,{enabled:u=!0,event:c="click",toggle:f=!0,ignoreMouse:a=!1,keyboardHandlers:m=!0}=e,l=h.useRef(),v=h.useRef(!1);return h.useMemo(()=>u?{reference:{onPointerDown(i){l.current=i.pointerType},onMouseDown(i){i.button===0&&((0,b.r)(l.current,!0)&&a||c!=="click"&&(n&&f&&(!s.current.openEvent||s.current.openEvent.type==="mousedown")?r(!1,i.nativeEvent):(i.preventDefault(),r(!0,i.nativeEvent))))},onClick(i){if(c==="mousedown"&&l.current){l.current=void 0;return}(0,b.r)(l.current,!0)&&a||(n&&f&&(!s.current.openEvent||s.current.openEvent.type==="click")?r(!1,i.nativeEvent):r(!0,i.nativeEvent))},onKeyDown(i){l.current=void 0,!(i.defaultPrevented||!m||ut(i))&&(i.key===" "&&!lt(o)&&(i.preventDefault(),v.current=!0),i.key==="Enter"&&r(!(n&&f),i.nativeEvent))},onKeyUp(i){i.defaultPrevented||!m||ut(i)||lt(o)||i.key===" "&&v.current&&(v.current=!1,r(!(n&&f),i.nativeEvent))}}}:{},[u,s,c,a,m,o,f,n,r])}function $t(t,e){let n=null,r=null,s=!1;return{contextElement:t.current||void 0,getBoundingClientRect(){var o,u;const c=((o=t.current)==null?void 0:o.getBoundingClientRect())||{width:0,height:0,x:0,y:0},f=e.axis==="x"||e.axis==="both",a=e.axis==="y"||e.axis==="both",m=["mouseenter","mousemove"].includes(((u=e.dataRef.current.openEvent)==null?void 0:u.type)||"")&&e.pointerType!=="touch";let l=c.width,v=c.height,i=c.x,d=c.y;return n==null&&e.x&&f&&(n=c.x-e.x),r==null&&e.y&&a&&(r=c.y-e.y),i-=n||0,d-=r||0,l=0,v=0,!s||m?(l=e.axis==="y"?c.width:0,v=e.axis==="x"?c.height:0,i=f&&e.x!=null?e.x:i,d=a&&e.y!=null?e.y:d):s&&!m&&(v=e.axis==="x"?c.height:v,l=e.axis==="y"?c.width:l),s=!0,{width:l,height:v,x:i,y:d,top:d,right:i+l,bottom:d+v,left:i}}}}function at(t){return t!=null&&t.clientX!=null}function On(t,e){e===void 0&&(e={});const{open:n,refs:r,dataRef:s,elements:{floating:o}}=t,{enabled:u=!0,axis:c="both",x:f=null,y:a=null}=e,m=React.useRef(!1),l=React.useRef(null),[v,i]=React.useState(),[d,p]=React.useState([]),I=re((M,w)=>{m.current||s.current.openEvent&&!at(s.current.openEvent)||r.setPositionReference($t(r.domReference,{x:M,y:w,axis:c,dataRef:s,pointerType:v}))}),x=re(M=>{f!=null||a!=null||(n?l.current||p([]):I(M.clientX,M.clientY))}),R=isMouseLikePointerType(v)?o:n,_=React.useCallback(()=>{if(!R||!u||f!=null||a!=null)return;const M=getWindow(r.floating.current);function w(S){const O=getTarget(S);contains(r.floating.current,O)?(M.removeEventListener("mousemove",w),l.current=null):I(S.clientX,S.clientY)}if(!s.current.openEvent||at(s.current.openEvent)){M.addEventListener("mousemove",w);const S=()=>{M.removeEventListener("mousemove",w),l.current=null};return l.current=S,S}r.setPositionReference(r.domReference.current)},[s,u,R,r,I,f,a]);return React.useEffect(()=>_(),[_,d]),React.useEffect(()=>{u&&!o&&(m.current=!1)},[u,o]),React.useEffect(()=>{!u&&n&&(m.current=!0)},[u,n]),Y(()=>{u&&(f!=null||a!=null)&&(m.current=!1,I(f,a))},[u,f,a,I]),React.useMemo(()=>{if(!u)return{};function M(w){let{pointerType:S}=w;i(S)}return{reference:{onPointerDown:M,onPointerEnter:M,onMouseMove:x,onMouseEnter:x}}},[u,x])}const Zt={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Jt={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},ft=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t?.outsidePress)!=null?n:!0}};function Qt(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:s,nodeId:o,elements:{reference:u,domReference:c,floating:f},dataRef:a}=t,{enabled:m=!0,escapeKey:l=!0,outsidePress:v=!0,outsidePressEvent:i="pointerdown",referencePress:d=!1,referencePressEvent:p="pointerdown",ancestorScroll:I=!1,bubbles:x,capture:R}=e,_=ve(),M=Ee()!=null,w=re(typeof v=="function"?v:()=>!1),S=typeof v=="function"?w:v,O=h.useRef(!1),U=h.useRef(!1),{escapeKey:D,outsidePress:L}=ft(x),{escapeKey:E,outsidePress:X}=ft(R),y=re(C=>{if(!n||!m||!l||C.key!=="Escape")return;const P=_?de(_.nodesRef.current,o):[];if(!D&&(C.stopPropagation(),P.length>0)){let A=!0;if(P.forEach(T=>{var ee;if((ee=T.context)!=null&&ee.open&&!T.context.dataRef.current.__escapeKeyBubbles){A=!1;return}}),!A)return}s.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1,(0,b.MM)(C)?C.nativeEvent:C)}),g=re(C=>{var P;const A=()=>{var T;y(C),(T=(0,b.U9)(C))==null||T.removeEventListener("keydown",A)};(P=(0,b.U9)(C))==null||P.addEventListener("keydown",A)}),k=re(C=>{const P=O.current;O.current=!1;const A=U.current;if(U.current=!1,i==="click"&&A||P||typeof S=="function"&&!S(C))return;const T=(0,b.U9)(C),ee="["+ge("inert")+"]",H=(0,b.Me)(f).querySelectorAll(ee);let K=(0,Q.kK)(T)?T:null;for(;K&&!(0,Q.Py)(K);){const q=(0,Q.Ow)(K);if(q===(0,b.Me)(f).body||!(0,Q.kK)(q))break;K=q}if(H.length&&(0,Q.kK)(T)&&!(0,b.ex)(T)&&!(0,b.r3)(T,f)&&Array.from(H).every(q=>!(0,b.r3)(K,q)))return;if((0,Q.Re)(T)&&f){const q=T.clientWidth>0&&T.scrollWidth>T.clientWidth,V=T.clientHeight>0&&T.scrollHeight>T.clientHeight;let W=V&&C.offsetX>T.clientWidth;if(V&&(0,Q.Dx)(T).direction==="rtl"&&(W=C.offsetX<=T.offsetWidth-T.clientWidth),W||q&&C.offsetY>T.clientHeight)return}const N=_&&de(_.nodesRef.current,o).some(q=>{var V;return(0,b.Pe)(C,(V=q.context)==null?void 0:V.elements.floating)});if((0,b.Pe)(C,f)||(0,b.Pe)(C,c)||N)return;const B=_?de(_.nodesRef.current,o):[];if(B.length>0){let q=!0;if(B.forEach(V=>{var W;if((W=V.context)!=null&&W.open&&!V.context.dataRef.current.__outsidePressBubbles){q=!1;return}}),!q)return}s.emit("dismiss",{type:"outsidePress",data:{returnFocus:M?{preventScroll:!0}:(0,b.Zj)(C)||(0,b.cr)(C)}}),r(!1,C)}),j=re(C=>{var P;const A=()=>{var T;k(C),(T=(0,b.U9)(C))==null||T.removeEventListener(i,A)};(P=(0,b.U9)(C))==null||P.addEventListener(i,A)});return h.useEffect(()=>{if(!n||!m)return;a.current.__escapeKeyBubbles=D,a.current.__outsidePressBubbles=L;function C(T){r(!1,T)}const P=(0,b.Me)(f);l&&P.addEventListener("keydown",E?g:y,E),S&&P.addEventListener(i,X?j:k,X);let A=[];return I&&((0,Q.kK)(c)&&(A=(0,Q.Kx)(c)),(0,Q.kK)(f)&&(A=A.concat((0,Q.Kx)(f))),!(0,Q.kK)(u)&&u&&u.contextElement&&(A=A.concat((0,Q.Kx)(u.contextElement)))),A=A.filter(T=>{var ee;return T!==((ee=P.defaultView)==null?void 0:ee.visualViewport)}),A.forEach(T=>{T.addEventListener("scroll",C,{passive:!0})}),()=>{l&&P.removeEventListener("keydown",E?g:y,E),S&&P.removeEventListener(i,X?j:k,X),A.forEach(T=>{T.removeEventListener("scroll",C)})}},[a,f,c,u,l,S,i,n,r,I,m,D,L,y,E,g,k,X,j]),h.useEffect(()=>{O.current=!1},[S,i]),h.useMemo(()=>m?{reference:{onKeyDown:y,[Zt[p]]:C=>{d&&(s.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1,C.nativeEvent))}},floating:{onKeyDown:y,onMouseDown(){U.current=!0},onMouseUp(){U.current=!0},[Jt[i]]:()=>{O.current=!0}}}:{},[m,s,d,i,p,r,y])}let kn;function en(t){var e;t===void 0&&(t={});const{open:n=!1,onOpenChange:r,nodeId:s}=t;if(!1)var o,u,c;const[f,a]=h.useState(null),m=((e=t.elements)==null?void 0:e.reference)||f,l=(0,wt.YF)(t),v=ve(),i=re((O,U)=>{O&&(p.current.openEvent=U),r?.(O,U)}),d=h.useRef(null),p=h.useRef({}),I=h.useState(()=>ze())[0],x=pe(),R=h.useCallback(O=>{const U=(0,Q.kK)(O)?{getBoundingClientRect:()=>O.getBoundingClientRect(),contextElement:O}:O;l.refs.setReference(U)},[l.refs]),_=h.useCallback(O=>{((0,Q.kK)(O)||O===null)&&(d.current=O,a(O)),((0,Q.kK)(l.refs.reference.current)||l.refs.reference.current===null||O!==null&&!(0,Q.kK)(O))&&l.refs.setReference(O)},[l.refs]),M=h.useMemo(()=>({...l.refs,setReference:_,setPositionReference:R,domReference:d}),[l.refs,_,R]),w=h.useMemo(()=>({...l.elements,domReference:m}),[l.elements,m]),S=h.useMemo(()=>({...l,refs:M,elements:w,dataRef:p,nodeId:s,floatingId:x,events:I,open:n,onOpenChange:i}),[l,s,x,I,n,i,M,w]);return Y(()=>{const O=v?.nodesRef.current.find(U=>U.id===s);O&&(O.context=S)}),h.useMemo(()=>({...l,context:S,refs:M,elements:w}),[l,M,w,S])}function Sn(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:s,refs:o,elements:{floating:u,domReference:c}}=t,{enabled:f=!0,visibleOnly:a=!0}=e,m=React.useRef(!1),l=React.useRef(),v=React.useRef(!0);return React.useEffect(()=>{if(!f)return;const i=getWindow(c);function d(){!n&&isHTMLElement(c)&&c===activeElement(getDocument(c))&&(m.current=!0)}function p(){v.current=!0}return i.addEventListener("blur",d),i.addEventListener("keydown",p,!0),()=>{i.removeEventListener("blur",d),i.removeEventListener("keydown",p,!0)}},[u,c,n,f]),React.useEffect(()=>{if(!f)return;function i(d){(d.type==="referencePress"||d.type==="escapeKey")&&(m.current=!0)}return s.on("dismiss",i),()=>{s.off("dismiss",i)}},[s,f]),React.useEffect(()=>()=>{clearTimeout(l.current)},[]),React.useMemo(()=>f?{reference:{onPointerDown(i){isVirtualPointerEvent(i.nativeEvent)||(v.current=!1)},onMouseLeave(){m.current=!1},onFocus(i){if(m.current)return;const d=getTarget(i.nativeEvent);if(a&&isElement(d))try{if(isSafari()&&isMac())throw Error();if(!d.matches(":focus-visible"))return}catch{if(!v.current&&!isTypeableElement(d))return}r(!0,i.nativeEvent)},onBlur(i){m.current=!1;const d=i.relatedTarget,p=isElement(d)&&d.hasAttribute(ge("focus-guard"))&&d.getAttribute("data-type")==="outside";l.current=window.setTimeout(()=>{const I=activeElement(c?c.ownerDocument:document);!d&&I===c||contains(o.floating.current,d)||contains(c,d)||p||r(!1,i.nativeEvent)})}}}:{},[f,a,c,o,r])}function Ue(t,e,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...t,...e.map(s=>s?s[n]:null).concat(t).reduce((s,o)=>(o&&Object.entries(o).forEach(u=>{let[c,f]=u;if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof f=="function"){var a;(a=r.get(c))==null||a.push(f),s[c]=function(){for(var m,l=arguments.length,v=new Array(l),i=0;i<l;i++)v[i]=arguments[i];return(m=r.get(c))==null?void 0:m.map(d=>d(...v)).find(d=>d!==void 0)}}}else s[c]=f}),s),{})}}function tn(t){t===void 0&&(t=[]);const e=t,n=h.useCallback(o=>Ue(o,t,"reference"),e),r=h.useCallback(o=>Ue(o,t,"floating"),e),s=h.useCallback(o=>Ue(o,t,"item"),t.map(o=>o?.item));return h.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:s}),[n,r,s])}let dt=!1;function Se(t,e,n){switch(t){case"vertical":return e;case"horizontal":return n;default:return e||n}}function mt(t,e){return Se(e,t===Me||t===ye,t===fe||t===me)}function Ve(t,e,n){return Se(e,t===ye,n?t===fe:t===me)||t==="Enter"||t==" "||t===""}function nn(t,e,n){return Se(e,n?t===fe:t===me,t===ye)}function pt(t,e,n){return Se(e,n?t===me:t===fe,t===Me)}function rn(t,e){const{open:n,onOpenChange:r,refs:s,elements:{domReference:o,floating:u}}=t,{listRef:c,activeIndex:f,onNavigate:a=()=>{},enabled:m=!0,selectedIndex:l=null,allowEscape:v=!1,loop:i=!1,nested:d=!1,rtl:p=!1,virtual:I=!1,focusItemOnOpen:x="auto",focusItemOnHover:R=!0,openOnArrowKeyDown:_=!0,disabledIndices:M=void 0,orientation:w="vertical",cols:S=1,scrollItemIntoView:O=!0,virtualItemRef:U}=e,D=Ee(),L=ve(),E=re(a),X=h.useRef(x),y=h.useRef(l??-1),g=h.useRef(null),k=h.useRef(!0),j=h.useRef(E),C=h.useRef(!!u),P=h.useRef(!1),A=h.useRef(!1),T=ne(M),ee=ne(n),H=ne(O),[K,N]=h.useState(),[B,q]=h.useState(),V=re(function(G,J,$){$===void 0&&($=!1);const Z=G.current[J.current];Z&&(I?(N(Z.id),L?.events.emit("virtualfocus",Z),U&&(U.current=Z)):ce(Z,{preventScroll:!0,sync:(0,b.V5)()&&(0,b.G6)()?dt||P.current:!1}),requestAnimationFrame(()=>{const le=H.current;le&&Z&&($||!k.current)&&(Z.scrollIntoView==null||Z.scrollIntoView(typeof le=="boolean"?{block:"nearest",inline:"nearest"}:le))}))});Y(()=>{document.createElement("div").focus({get preventScroll(){return dt=!0,!1}})},[]),Y(()=>{m&&(n&&u?X.current&&l!=null&&(A.current=!0,E(l)):C.current&&(y.current=-1,j.current(null)))},[m,n,u,l,E]),Y(()=>{if(m&&n&&u)if(f==null){if(P.current=!1,l!=null)return;if(C.current&&(y.current=-1,V(c,y)),!C.current&&X.current&&(g.current!=null||X.current===!0&&g.current==null)){let G=0;const J=()=>{c.current[0]==null?(G<2&&(G?requestAnimationFrame:queueMicrotask)(J),G++):(y.current=g.current==null||Ve(g.current,w,p)||d?_e(c,T.current):Xe(c,T.current),g.current=null,E(y.current))};J()}}else be(c,f)||(y.current=f,V(c,y,A.current),A.current=!1)},[m,n,u,f,l,d,c,w,p,E,V,T]),Y(()=>{var G,J;if(!m||u||!L||I||!C.current)return;const $=L.nodesRef.current,Z=(G=$.find(F=>F.id===D))==null||(J=G.context)==null?void 0:J.elements.floating,le=(0,b.AW)((0,b.Me)(u)),De=$.some(F=>F.context&&(0,b.r3)(F.context.elements.floating,le));Z&&!De&&k.current&&Z.focus({preventScroll:!0})},[m,u,L,D,I]),Y(()=>{if(!m||!L||!I||D)return;function G(J){q(J.id),U&&(U.current=J)}return L.events.on("virtualfocus",G),()=>{L.events.off("virtualfocus",G)}},[m,L,I,D,U]),Y(()=>{j.current=E,C.current=!!u}),Y(()=>{n||(g.current=null)},[n]);const W=f!=null,z=h.useMemo(()=>{function G($){if(!n)return;const Z=c.current.indexOf($);Z!==-1&&E(Z)}return{onFocus($){let{currentTarget:Z}=$;G(Z)},onClick:$=>{let{currentTarget:Z}=$;return Z.focus({preventScroll:!0})},...R&&{onMouseMove($){let{currentTarget:Z}=$;G(Z)},onPointerLeave($){let{pointerType:Z}=$;!k.current||Z==="touch"||(y.current=-1,V(c,y),E(null),I||ce(s.floating.current,{preventScroll:!0}))}}}},[n,s,V,R,c,E,I]);return h.useMemo(()=>{if(!m)return{};const G=T.current;function J(F){if(k.current=!1,P.current=!0,!ee.current&&F.currentTarget===s.floating.current)return;if(d&&pt(F.key,w,p)){(0,b.p7)(F),r(!1,F.nativeEvent),(0,Q.Re)(o)&&!I&&o.focus();return}const oe=y.current,se=_e(c,G),ue=Xe(c,G);if(F.key==="Home"&&((0,b.p7)(F),y.current=se,E(y.current)),F.key==="End"&&((0,b.p7)(F),y.current=ue,E(y.current)),!(S>1&&(y.current=Pt(c,{event:F,orientation:w,loop:i,cols:S,disabledIndices:G,minIndex:se,maxIndex:ue,prevIndex:y.current,stopEvent:!0}),E(y.current),w==="both"))&&mt(F.key,w)){if((0,b.p7)(F),n&&!I&&(0,b.AW)(F.currentTarget.ownerDocument)===F.currentTarget){y.current=Ve(F.key,w,p)?se:ue,E(y.current);return}Ve(F.key,w,p)?i?y.current=oe>=ue?v&&oe!==c.current.length?-1:se:te(c,{startingIndex:oe,disabledIndices:G}):y.current=Math.min(ue,te(c,{startingIndex:oe,disabledIndices:G})):i?y.current=oe<=se?v&&oe!==-1?c.current.length:ue:te(c,{startingIndex:oe,decrement:!0,disabledIndices:G}):y.current=Math.max(se,te(c,{startingIndex:oe,decrement:!0,disabledIndices:G})),be(c,y.current)?E(null):E(y.current)}}function $(F){x==="auto"&&(0,b.Zj)(F.nativeEvent)&&(X.current=!0)}function Z(F){X.current=x,x==="auto"&&(0,b.cr)(F.nativeEvent)&&(X.current=!0)}const le=I&&n&&W&&{"aria-activedescendant":B||K},De=c.current.find(F=>F?.id===K);return{reference:{...le,onKeyDown(F){k.current=!1;const oe=F.key.indexOf("Arrow")===0,se=nn(F.key,w,p),ue=pt(F.key,w,p),Ae=mt(F.key,w),an=(d?se:Ae)||F.key==="Enter"||F.key.trim()==="";if(I&&n){const xt=L?.nodesRef.current.find(Le=>Le.parentId==null),ae=L&&xt?Kt(L.nodesRef.current,xt.id):null;if(oe&&ae&&U){const Le=new KeyboardEvent("keydown",{key:F.key,bubbles:!0});if(se||ue){var Rt,yt;const fn=((Rt=ae.context)==null?void 0:Rt.elements.domReference)===F.currentTarget,Et=ue&&!fn?(yt=ae.context)==null?void 0:yt.elements.domReference:se?De:null;Et&&((0,b.p7)(F),Et.dispatchEvent(Le),q(void 0))}if(Ae&&ae.context&&ae.context.open&&ae.parentId&&F.currentTarget!==ae.context.elements.domReference){var bt;(0,b.p7)(F),(bt=ae.context.elements.domReference)==null||bt.dispatchEvent(Le);return}}return J(F)}if(!(!n&&!_&&oe)){if(an&&(g.current=d&&Ae?null:F.key),d){se&&((0,b.p7)(F),n?(y.current=_e(c,G),E(y.current)):r(!0,F.nativeEvent));return}Ae&&(l!=null&&(y.current=l),(0,b.p7)(F),!n&&_?r(!0,F.nativeEvent):J(F),n&&E(y.current))}},onFocus(){n&&E(null)},onPointerDown:Z,onMouseDown:$,onClick:$},floating:{"aria-orientation":w==="both"?void 0:w,...le,onKeyDown:J,onPointerMove(){k.current=!0}},item:z}},[o,s,K,B,T,ee,c,m,w,p,I,n,W,d,l,_,v,S,i,x,E,r,z,L,U])}function on(t,e){e===void 0&&(e={});const{open:n,floatingId:r}=t,{enabled:s=!0,role:o="dialog"}=e,u=pe();return h.useMemo(()=>{const c={id:r,role:o};return s?o==="tooltip"?{reference:{"aria-describedby":n?r:void 0},floating:c}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":o==="alertdialog"?"dialog":o,"aria-controls":n?r:void 0,...o==="listbox"&&{role:"combobox"},...o==="menu"&&{id:u}},floating:{...c,...o==="menu"&&{"aria-labelledby":u}}}:{}},[s,o,n,r,u])}const vt=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,n)=>(n?"-":"")+e.toLowerCase());function Re(t,e){return typeof t=="function"?t(e):t}function sn(t,e){const[n,r]=React.useState(t);return t&&!n&&r(!0),React.useEffect(()=>{if(!t){const s=setTimeout(()=>r(!1),e);return()=>clearTimeout(s)}},[t,e]),n}function cn(t,e){e===void 0&&(e={});const{open:n,elements:{floating:r}}=t,{duration:s=250}=e,u=(typeof s=="number"?s:s.close)||0,[c,f]=React.useState(!1),[a,m]=React.useState("unmounted"),l=sn(n,u);return Y(()=>{c&&!l&&m("unmounted")},[c,l]),Y(()=>{if(r)if(n){m("initial");const v=requestAnimationFrame(()=>{m("open")});return()=>{cancelAnimationFrame(v)}}else f(!0),m("close")},[n,r]),{isMounted:l,status:a}}function Dn(t,e){e===void 0&&(e={});const{initial:n={opacity:0},open:r,close:s,common:o,duration:u=250}=e,c=t.placement,f=c.split("-")[0],a=React.useMemo(()=>({side:f,placement:c}),[f,c]),m=typeof u=="number",l=(m?u:u.open)||0,v=(m?u:u.close)||0,[i,d]=React.useState(()=>({...Re(o,a),...Re(n,a)})),{isMounted:p,status:I}=cn(t,{duration:u}),x=ne(n),R=ne(r),_=ne(s),M=ne(o);return Y(()=>{const w=Re(x.current,a),S=Re(_.current,a),O=Re(M.current,a),U=Re(R.current,a)||Object.keys(w).reduce((D,L)=>(D[L]="",D),{});if(I==="initial"&&d(D=>({transitionProperty:D.transitionProperty,...O,...w})),I==="open"&&d({transitionProperty:Object.keys(U).map(vt).join(","),transitionDuration:l+"ms",...O,...U}),I==="close"){const D=S||w;d({transitionProperty:Object.keys(D).map(vt).join(","),transitionDuration:v+"ms",...O,...D})}},[v,_,x,R,M,l,I,a]),{isMounted:p,styles:i}}function un(t,e){var n;const{open:r,dataRef:s}=t,{listRef:o,activeIndex:u,onMatch:c,onTypingChange:f,enabled:a=!0,findMatch:m=null,resetMs:l=750,ignoreKeys:v=[],selectedIndex:i=null}=e,d=h.useRef(),p=h.useRef(""),I=h.useRef((n=i??u)!=null?n:-1),x=h.useRef(null),R=re(c),_=re(f),M=ne(m),w=ne(v);return Y(()=>{r&&(clearTimeout(d.current),x.current=null,p.current="")},[r]),Y(()=>{if(r&&p.current===""){var S;I.current=(S=i??u)!=null?S:-1}},[r,i,u]),h.useMemo(()=>{if(!a)return{};function S(D){D?s.current.typing||(s.current.typing=D,_(D)):s.current.typing&&(s.current.typing=D,_(D))}function O(D,L,E){const X=M.current?M.current(L,E):L.find(y=>y?.toLocaleLowerCase().indexOf(E.toLocaleLowerCase())===0);return X?D.indexOf(X):-1}function U(D){const L=o.current;if(p.current.length>0&&p.current[0]!==" "&&(O(L,L,p.current)===-1?S(!1):D.key===" "&&(0,b.p7)(D)),L==null||w.current.includes(D.key)||D.key.length!==1||D.ctrlKey||D.metaKey||D.altKey)return;r&&D.key!==" "&&((0,b.p7)(D),S(!0)),L.every(g=>{var k,j;return g?((k=g[0])==null?void 0:k.toLocaleLowerCase())!==((j=g[1])==null?void 0:j.toLocaleLowerCase()):!0})&&p.current===D.key&&(p.current="",I.current=x.current),p.current+=D.key,clearTimeout(d.current),d.current=setTimeout(()=>{p.current="",I.current=x.current,S(!1)},l);const X=I.current,y=O(L,[...L.slice((X||0)+1),...L.slice(0,(X||0)+1)],p.current);y!==-1?(R(y),x.current=y):D.key!==" "&&(p.current="",S(!1))}return{reference:{onKeyDown:U},floating:{onKeyDown:U,onKeyUp(D){D.key===" "&&S(!1)}}}},[a,r,s,o,l,w,M,R,_])}function gt(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const An=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:s,offset:o=0,index:u=0,minItemsVisible:c=4,referenceOverflowThreshold:f=0,scrollRef:a,...m}=t,{rects:l,elements:{floating:v}}=e,i=n.current[u];if(!i)return{};const d={...e,...await offset(-i.offsetTop-v.clientTop-l.reference.height/2-i.offsetHeight/2-o).fn(e)},p=a?.current||v,I=await detectOverflow(gt(d,p.scrollHeight),m),x=await detectOverflow(d,{...m,elementContext:"reference"}),R=Math.max(0,I.top),_=d.y+R,M=Math.max(0,p.scrollHeight-R-Math.max(0,I.bottom));return p.style.maxHeight=M+"px",p.scrollTop=R,s&&(p.offsetHeight<i.offsetHeight*Math.min(c,n.current.length-1)-1||x.top>=-f||x.bottom>=-f?flushSync(()=>s(!0)):flushSync(()=>s(!1))),r&&(r.current=await detectOverflow(gt({...d,y:_},p.offsetHeight),m)),{y:_}}});function Ln(t,e){const{open:n,elements:r}=t,{enabled:s=!0,overflowRef:o,scrollRef:u,onChange:c}=e,f=re(c),a=React.useRef(!1),m=React.useRef(null),l=React.useRef(null);return React.useEffect(()=>{if(!s)return;function v(d){if(d.ctrlKey||!i||o.current==null)return;const p=d.deltaY,I=o.current.top>=-.5,x=o.current.bottom>=-.5,R=i.scrollHeight-i.clientHeight,_=p<0?-1:1,M=p<0?"max":"min";i.scrollHeight<=i.clientHeight||(!I&&p>0||!x&&p<0?(d.preventDefault(),flushSync(()=>{f(w=>w+Math[M](p,R*_))})):/firefox/i.test(getUserAgent())&&(i.scrollTop+=p))}const i=u?.current||r.floating;if(n&&i)return i.addEventListener("wheel",v),requestAnimationFrame(()=>{m.current=i.scrollTop,o.current!=null&&(l.current={...o.current})}),()=>{m.current=null,l.current=null,i.removeEventListener("wheel",v)}},[s,n,r.floating,o,u,f]),React.useMemo(()=>s?{floating:{onKeyDown(){a.current=!0},onWheel(){a.current=!1},onPointerMove(){a.current=!1},onScroll(){const v=u?.current||r.floating;if(!(!o.current||!v||!a.current)){if(m.current!==null){const i=v.scrollTop-m.current;(o.current.bottom<-.5&&i<-1||o.current.top<-.5&&i>1)&&flushSync(()=>f(d=>d+i))}requestAnimationFrame(()=>{m.current=v.scrollTop})}}}}:{},[s,o,r.floating,u,f])}function ht(t,e){const[n,r]=t;let s=!1;const o=e.length;for(let u=0,c=o-1;u<o;c=u++){const[f,a]=e[u]||[0,0],[m,l]=e[c]||[0,0];a>=r!=l>=r&&n<=(m-f)*(r-a)/(l-a)+f&&(s=!s)}return s}function ln(t,e){return t[0]>=e.x&&t[0]<=e.x+e.width&&t[1]>=e.y&&t[1]<=e.y+e.height}function Fn(t){t===void 0&&(t={});const{buffer:e=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=t;let s,o=!1,u=null,c=null,f=performance.now();function a(l,v){const i=performance.now(),d=i-f;if(u===null||c===null||d===0)return u=l,c=v,f=i,null;const p=l-u,I=v-c,R=Math.sqrt(p*p+I*I)/d;return u=l,c=v,f=i,R}const m=l=>{let{x:v,y:i,placement:d,elements:p,onClose:I,nodeId:x,tree:R}=l;return function(M){function w(){clearTimeout(s),I()}if(clearTimeout(s),!p.domReference||!p.floating||d==null||v==null||i==null)return;const{clientX:S,clientY:O}=M,U=[S,O],D=getTarget(M),L=M.type==="mouseleave",E=contains(p.floating,D),X=contains(p.domReference,D),y=p.domReference.getBoundingClientRect(),g=p.floating.getBoundingClientRect(),k=d.split("-")[0],j=v>g.right-g.width/2,C=i>g.bottom-g.height/2,P=ln(U,y),A=g.width>y.width,T=g.height>y.height,ee=(A?y:g).left,H=(A?y:g).right,K=(T?y:g).top,N=(T?y:g).bottom;if(E&&(o=!0,!L))return;if(X&&(o=!1),X&&!L){o=!0;return}if(L&&isElement(M.relatedTarget)&&contains(p.floating,M.relatedTarget)||R&&de(R.nodesRef.current,x).some(V=>{let{context:W}=V;return W?.open}))return;if(k==="top"&&i>=y.bottom-1||k==="bottom"&&i<=y.top+1||k==="left"&&v>=y.right-1||k==="right"&&v<=y.left+1)return w();let B=[];switch(k){case"top":B=[[ee,y.top+1],[ee,g.bottom-1],[H,g.bottom-1],[H,y.top+1]];break;case"bottom":B=[[ee,g.top+1],[ee,y.bottom-1],[H,y.bottom-1],[H,g.top+1]];break;case"left":B=[[g.right-1,N],[g.right-1,K],[y.left+1,K],[y.left+1,N]];break;case"right":B=[[y.right-1,N],[y.right-1,K],[g.left+1,K],[g.left+1,N]];break}function q(V){let[W,z]=V;switch(k){case"top":{const G=[A?W+e/2:j?W+e*4:W-e*4,z+e+1],J=[A?W-e/2:j?W+e*4:W-e*4,z+e+1],$=[[g.left,j||A?g.bottom-e:g.top],[g.right,j?A?g.bottom-e:g.top:g.bottom-e]];return[G,J,...$]}case"bottom":{const G=[A?W+e/2:j?W+e*4:W-e*4,z-e],J=[A?W-e/2:j?W+e*4:W-e*4,z-e],$=[[g.left,j||A?g.top+e:g.bottom],[g.right,j?A?g.top+e:g.bottom:g.top+e]];return[G,J,...$]}case"left":{const G=[W+e+1,T?z+e/2:C?z+e*4:z-e*4],J=[W+e+1,T?z-e/2:C?z+e*4:z-e*4];return[...[[C||T?g.right-e:g.left,g.top],[C?T?g.right-e:g.left:g.right-e,g.bottom]],G,J]}case"right":{const G=[W-e,T?z+e/2:C?z+e*4:z-e*4],J=[W-e,T?z-e/2:C?z+e*4:z-e*4],$=[[C||T?g.left+e:g.right,g.top],[C?T?g.left+e:g.right:g.left+e,g.bottom]];return[G,J,...$]}}}if(!ht([S,O],B)){if(o&&!P)return w();if(!L&&r){const V=a(M.clientX,M.clientY);if(V!==null&&V<.1)return w()}ht([S,O],q([v,i]))?!o&&r&&(s=window.setTimeout(w,40)):w()}}};return m.__options={blockPointerEvents:n},m}}}]);
