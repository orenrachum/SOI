(()=>{"use strict";var e,I={850:()=>{const e=window.wp.blocks;function I(e,g){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,I){return e.__proto__=I,e},I(e,g)}function g(e,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(g&&g.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),g&&I(e,g)}const i=window.wp.element,t=window.wp.blockEditor;function l(){l=function(e,I){return new t(e,void 0,I)};var e=RegExp.prototype,i=new WeakMap;function t(e,g,l){var c=new RegExp(e,g);return i.set(c,l||i.get(e)),I(c,t.prototype)}function c(e,I){var g=i.get(I);return Object.keys(g).reduce((function(I,i){var t=g[i];if("number"==typeof t)I[i]=e[t];else{for(var l=0;void 0===e[t[l]]&&l+1<t.length;)l++;I[i]=e[t[l]]}return I}),Object.create(null))}return g(t,RegExp),t.prototype.exec=function(I){var g=e.exec.call(this,I);if(g){g.groups=c(g,this);var i=g.indices;i&&(i.groups=c(i,this))}return g},t.prototype[Symbol.replace]=function(I,g){if("string"==typeof g){var t=i.get(this);return e[Symbol.replace].call(this,I,g.replace(/\$<([^>]+)>/g,(function(e,I){var g=t[I];return"$"+(Array.isArray(g)?g.join("$"):g)})))}if("function"==typeof g){var l=this;return e[Symbol.replace].call(this,I,(function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(c(e,l)),g.apply(this,e)}))}return e[Symbol.replace].call(this,I,g)},l.apply(this,arguments)}const{InspectorControls:c,BlockControls:M,MediaReplaceFlow:n,MediaPlaceholder:C,MediaUploadCheck:a}=window.wp.blockEditor,{ToggleControl:A,PanelBody:o,PanelRow:r,TextControl:N,ToolbarGroup:s,ToolbarButton:u,RangeControl:j}=window.wp.components,{useEffect:D}=window.wp.element;function w(){return w=Object.assign?Object.assign.bind():function(e){for(var I=1;I<arguments.length;I++){var g=arguments[I];for(var i in g)Object.prototype.hasOwnProperty.call(g,i)&&(e[i]=g[i])}return e},w.apply(this,arguments)}const b=JSON.parse('{"u2":"motionpage/canvas"}');(0,e.registerBlockType)(b.u2,{edit:function(e){let{clientId:I,attributes:{imageToggle:g,customID:w,image:b,sequenceID:y,height:d,styleID:m},setAttributes:p}=e;function S(e){var I;let{url:g,id:i}=e,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!i&&!t)return;p({image:{url:g,id:i}});const c=l(/\/(?:uploads\/)?(?:sequence|motionpage)\/(.*?)\/.*\..*$/gim,{folder:1}).exec(g);null!=c&&null!==(I=c.groups)&&void 0!==I&&I.folder?p({sequenceID:c.groups.folder}):p({sequenceID:""})}return D((()=>{!m&&I&&p({styleID:`${I.slice(0,4)}:${I.slice(-5,-1)}`})}),[]),(0,i.createElement)(i.Fragment,null,(0,i.createElement)(M,null,(0,i.createElement)(s,null,(0,i.createElement)(u,{icon:(0,i.createElement)("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTM3cHgiIGhlaWdodD0iMTQxcHgiIHZpZXdCb3g9IjAgMCAxMzcgMTQxIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPHRpdGxlPm1wPC90aXRsZT4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNTAuMDMwMzcwMyUiIHkxPSI5OS45OTg1MDk3JSIgeDI9IjUwLjAzMDM3MDMlIiB5Mj0iNi41MzczODYwNWUtMTQlIiBpZD0ibGluZWFyR3JhZGllbnQtMSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM2N0M4OTAiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzUwQTdBQyIgb2Zmc2V0PSIxOCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzQyNjVCRSIgb2Zmc2V0PSI0MCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzNBMkJBQSIgb2Zmc2V0PSI2MSUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzNFMUQ5OCIgb2Zmc2V0PSI4MSUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzNFMUQ5OCIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjUwJSIgeTE9IjEwMCUiIHgyPSI1MCUiIHkyPSIwJSIgaWQ9ImxpbmVhckdyYWRpZW50LTIiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRDA1MkNCIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMzRTFGOTciIG9mZnNldD0iMTAwJSI+PC9zdG9wPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IHgxPSI1MCUiIHkxPSItMC4wMDE4MDY4MDc1NCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0ibGluZWFyR3JhZGllbnQtMyI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNEMDUyQ0IiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzNFMUY5NyIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjUwLjAwNzcwNzclIiB5MT0iMCUiIHgyPSI1MC4wMDc3MDc3JSIgeTI9IjEwMCUiIGlkPSJsaW5lYXJHcmFkaWVudC00Ij4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0Y5RjlGOSIgb2Zmc2V0PSIwJSI+PC9zdG9wPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjlGOUY5IiBzdG9wLW9wYWNpdHk9IjAuNzQiIG9mZnNldD0iMTYlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUY5RjkiIHN0b3Atb3BhY2l0eT0iMC41MiIgb2Zmc2V0PSIzMyUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0Y5RjlGOSIgc3RvcC1vcGFjaXR5PSIwLjMzIiBvZmZzZXQ9IjQ4JSI+PC9zdG9wPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjlGOUY5IiBzdG9wLW9wYWNpdHk9IjAuMTkiIG9mZnNldD0iNjMlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUY5RjkiIHN0b3Atb3BhY2l0eT0iMC4wOCIgb2Zmc2V0PSI3NyUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0Y5RjlGOSIgc3RvcC1vcGFjaXR5PSIwLjAyIiBvZmZzZXQ9IjkwJSI+PC9zdG9wPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjlGOUY5IiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iMTAwJSI+PC9zdG9wPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IHgxPSI1MC4wNjEyNzQ1JSIgeTE9Ii0wLjAzMDQwMTc2NDglIiB4Mj0iNTAuMDYxMjc0NSUiIHkyPSI5OS45NzUxMDEzJSIgaWQ9ImxpbmVhckdyYWRpZW50LTUiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjNjdDODkwIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM1MEE3QUMiIG9mZnNldD0iMTclIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM0MjY1QkUiIG9mZnNldD0iNDMlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMzRTFEOTgiIG9mZnNldD0iODglIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMzRTFEOTgiIG9mZnNldD0iMTAwJSI+PC9zdG9wPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0iI2E3YWFhZCIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0ibXAiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik05Ny45NCw4MS4xMyBDOTYuNjIyMjI3Miw3OC41MDA3NDI4IDk0Ljg4NjMwOTYsNzYuMTAyODc5OSA5Mi44LDc0LjAzIEw2Ni40OCw0Ny43MiBMMy41NCwxMTAuNjYgQy0wLjI1MDY0ODYwOSwxMTQuNDUxNzYgLTAuMjUwNjQ4NjA5LDEyMC41OTgyNCAzLjU0LDEyNC4zOSBMMTAuOTgsMTMxLjgyIEMxMi43OTgyODQ4LDEzMy42NDUyNzYgMTUuMjY4NjA4NCwxMzQuNjcxMjk2IDE3Ljg0NSwxMzQuNjcxMjk2IEMyMC40MjEzOTE2LDEzNC42NzEyOTYgMjIuODkxNzE1MiwxMzMuNjQ1Mjc2IDI0LjcxLDEzMS44MiBMNDEuNTIsMTE1IEM0Mi42MywxMTMuOTQgNDguNTIsMTA5IDU1LjY0LDExNS4xMyBMNTUuNjQsMTE1LjEzIEw1NS42NCwxMTUuMTMgQzU1Ljk1NTUzMjIsMTE1LjQwODk5MSA1Ni4yODk2MzMsMTE1LjY2NjI0OSA1Ni42NCwxMTUuOSBDNjYuOTgwOTQ5LDEyMy41MTIwNzkgODEuMTkzNzI3OSwxMjMuMDM1NDggOTEuMDAxNTA3MSwxMTQuNzQ3NzUyIEMxMDAuODA5Mjg2LDEwNi40NjAwMjQgMTAzLjY1MDI2Nyw5Mi41MjU5MjcxIDk3Ljg3LDgxLjA2IEw5Ny45NCw4MS4xMyBaIiBpZD0iUGF0aCIgZmlsbD0iI2E3YWFhZCIgb3BhY2l0eT0iMC43NSI+PC9wYXRoPgogICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsIiBmaWxsPSIjYTdhYWFkIiBvcGFjaXR5PSIwLjYiIGN4PSIxMTguNSIgY3k9IjEyMi4zMSIgcj0iMTcuNzgiPjwvY2lyY2xlPgogICAgICAgICAgICA8cGF0aCBkPSJNMjMuMzQsNC41OSBMNjYuNDgsNDcuNzIgTDMzLjA3LDgxLjEzIEwxNy43Niw4MS4xMyBDOC42MTQxNjQ1NCw4MS4xMyAxLjIsNzMuNzE1ODM1NSAxLjIsNjQuNTcgTDEuMiwxMy43NyBDMS4yMDcxNDIxMSw4LjU2Nzg0MDYzIDQuMzE0ODcwMDksMy44NzA4NDQxNiA5LjEsMS44MyBMOS4xLDEuODMgQzEzLjk2NjQ0NjUsLTAuMjI5NzI5NTk3IDE5LjU5NTQ3MDQsMC44NjEyODkwNzIgMjMuMzQsNC41OSBMMjMuMzQsNC41OSBaIiBpZD0iUGF0aCIgZmlsbD0iI2E3YWFhZCIgb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik02Ni40OCw0Ny43MiBMMzMuMDcsODEuMTMgTDk3Ljk0LDgxLjEzIEM5Ny45NCw4MS4xMyA5Ni44OCw3OC4xMyA5MS45NCw3My4yIEw2Ni40OCw0Ny43MiBaIiBpZD0iUGF0aCIgZmlsbD0iI2E3YWFhZCI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNOTMuOSw3NS4xNSBDOTUuNDUyMjM3OCw3Ni45OTUwODA4IDk2Ljc5Mzg2Myw3OS4wMDc1MTg3IDk3LjksODEuMTUgTDExNS4xNSw4MS4xNSBDMTI0LjI5NTgzNSw4MS4xNSAxMzEuNzEsNzMuNzM1ODM1NSAxMzEuNzEsNjQuNTkgTDEzMS43MSwxMy43OSBDMTMxLjcwMjg1OCw4LjU4Nzg0MDYzIDEyOC41OTUxMywzLjg5MDg0NDE2IDEyMy44MSwxLjg1IEwxMjMuODEsMS44NSBDMTE4Ljk0NjMxNiwtMC4yMDUxOTk2NTIgMTEzLjMyMjY4MiwwLjg4NTU0MDI1NSAxMDkuNTgsNC42MSBMNjYuNDMsNDcuNzQgTDkzLjg2LDc1LjE3IiBpZD0iUGF0aCIgZmlsbD0iI2E3YWFhZCIgb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=",alt:"Motion.page"}),onClick:function(){const e=btoa(JSON.stringify(window.motionpage.redirect)),I=`&seq=${btoa(`${w}:${null!=y&&y}`)}`,g=`${window.motionpage.motionpage_url}&sp=${e}${w?I:""}`;window.open(g,"_blank")},style:{width:24}})),(0,i.createElement)(s,null,(0,i.createElement)(a,null,(0,i.createElement)(n,{mediaURL:b.url,mediaId:b.id,allowedTypes:["image"],accept:"image/*",onSelect:S,onSelectURL:e=>S({url:e},!0)})))),(0,i.createElement)(c,null,(0,i.createElement)(o,{title:"Motion.page Canvas Settings",initialOpen:!0},(0,i.createElement)(r,null,(0,i.createElement)(N,{label:"Canvas ID:",value:w,onChange:e=>p({customID:e})})),(0,i.createElement)(r,null,(0,i.createElement)(A,{label:"Load with default image",checked:g,onChange:e=>p({imageToggle:e})})),(0,i.createElement)(j,{label:"Height",value:d,onChange:e=>p({height:e}),min:0,max:2e3}))),(0,i.createElement)("div",(0,t.useBlockProps)({className:"sequence-stage"}),(0,i.createElement)("img",{className:"sequence-canvas",src:b.url}),(0,i.createElement)(a,null,(0,i.createElement)(C,{accept:"image/*",allowedTypes:["image"],className:"mp-image-placeholder",labels:{title:"Default Image",instructions:"This image will render underneath the canvas element. You can enable/disable this image in the right sidebar. If the URL of the images contains a location of sequences folder, this will be used in the builder too. You can also decide to use just a different image in the Gutenberg block, without rendering it on the user-facing side."},multiple:!1,onSelect:S,onSelectURL:e=>S({url:e},!0)}))))},save:function(e){let{attributes:{customID:I,imageToggle:g,image:l,sequenceID:c,height:M,styleID:n}}=e;const C=!!I&&I.replace("#","");return(0,i.createElement)(i.Fragment,null,n&&M&&(0,i.createElement)("style",{type:"text/css"},`[data-style="${n}"]{height:${M}px;}`),(0,i.createElement)("div",w({},t.useBlockProps.save({className:"sequence-stage"}),c&&{"data-sequence-folder":c},n&&{"data-style":n},M&&{"data-height":M}),g&&l?(0,i.createElement)("img",{className:"sequence-canvas-placeholder",src:l.url}):null,(0,i.createElement)("canvas",w({},C&&{id:C},c&&{"data-sequence-folder":c},{className:"sequence-canvas"}))))}})}},g={};function i(e){var t=g[e];if(void 0!==t)return t.exports;var l=g[e]={exports:{}};return I[e](l,l.exports,i),l.exports}i.m=I,e=[],i.O=(I,g,t,l)=>{if(!g){var c=1/0;for(a=0;a<e.length;a++){for(var[g,t,l]=e[a],M=!0,n=0;n<g.length;n++)(!1&l||c>=l)&&Object.keys(i.O).every((e=>i.O[e](g[n])))?g.splice(n--,1):(M=!1,l<c&&(c=l));if(M){e.splice(a--,1);var C=t();void 0!==C&&(I=C)}}return I}l=l||0;for(var a=e.length;a>0&&e[a-1][2]>l;a--)e[a]=e[a-1];e[a]=[g,t,l]},i.o=(e,I)=>Object.prototype.hasOwnProperty.call(e,I),(()=>{var e={824:0,927:0};i.O.j=I=>0===e[I];var I=(I,g)=>{var t,l,[c,M,n]=g,C=0;if(c.some((I=>0!==e[I]))){for(t in M)i.o(M,t)&&(i.m[t]=M[t]);if(n)var a=n(i)}for(I&&I(g);C<c.length;C++)l=c[C],i.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return i.O(a)},g=globalThis.webpackChunkmotionpage=globalThis.webpackChunkmotionpage||[];g.forEach(I.bind(null,0)),g.push=I.bind(null,g.push.bind(g))})();var t=i.O(void 0,[927],(()=>i(850)));t=i.O(t)})();